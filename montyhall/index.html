<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>No More Monty Hall Confusion</title>
  <!-- TODO: favicon -->
  <meta name="description" content="Understand the Monty Hall problem at once.">

  <meta property="og:url" content="https://game.hyeon.me/montyhall">
  <meta property="og:title" content="No More Monty Hall Confusion">
  <!-- TODO: OG 이미지 <meta property="og:image" content=""> -->
  <meta property="og:site_name" content="game.hyeon.me">
  <meta property="og:description" content="Understand the Monty Hall problem at once.">

  <meta name="twitter:site" content="@simnalamburt">
  <meta name="twitter:title" content="No More Monty Hall Confusion">
  <meta name="twitter:description" content="Understand the Monty Hall problem at once.">
  <meta name="twitter:card" content="summary_large_image">
  <!-- TODO: 이미지 <meta name="twitter:image" content=""> -->
  <meta name="twitter:creator" content="@simnalamburt">
  <meta name="twitter:url" content="https://game.hyeon.me/montyhall">
  <style>
  * {
    box-sizing; border-box;
  }

  body {
    margin: 0;
    background: #eee;
  }

  #game {
    /* TODO: 환경마다 바꾸기 */
    --repeat-count: 7;
    --padding-size: 50px;
    --gap-size: 20px;
    --door-size: calc(
      (
        100vmin - (var(--repeat-count) - 1)*var(--gap-size) - 2*var(--padding-size)
      )/var(--repeat-count)
    );

    display: grid;
    width: calc(var(--repeat-count)*var(--door-size) + (var(--repeat-count) - 1)*var(--gap-size));
    margin: calc(var(--padding-size)/2) auto;
    padding: calc(var(--padding-size)/2);
    background: white;
    grid-template-columns: repeat(var(--repeat-count), var(--door-size));
    grid-gap: var(--gap-size);
    justify-content: center;
  }

  #game > img {
    width: var(--door-size);
    height: var(--door-size);
    object-fit: cover;
  }
  </style>
</head>
<body>


<div id=game>
  <script>
  document.write(html)
  </script>
</div>

<script>
const game = document.getElementById('game')
const repeat_count = getComputedStyle(game).getPropertyValue('--repeat-count')|0

let html = '';
for (let i = 0; i < repeat_count; ++i) {
  for (let j = 0; j < repeat_count; ++j) {
    const rand = Math.random()
    html += (
      rand <= 0.01 ? `<img alt="Tesla Cybertruck" src="https://www.tesla.com/ns_videos/p-social-card.jpg">` :
      rand <= 0.1 ? `<img alt="A goat" src="goat.svg">` :
      `<img alt="A closed door" src="door.svg">`
    )
  }
}

game.insertAdjacentHTML('afterbegin', html)
</script>


</body>
</html>
<!-- TODO: https://github.com/simnalamburt/web-checklist -->
<!-- TODO: IE로 들어오면 경고창 띄우기 -->
<!-- TODO: 모바일 테스트 -->
